<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title>Review | MEAN</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="/stylesheets/bootstrap-theme.css">
    <link rel="stylesheet" href="stylesheets/star-rating.css" media="all" rel="stylesheet" type="text/css"/>
    <script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script>
    <script src="js/star-rating.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="navbar navbar-fixed-top navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">Course Reviews</a>
        </div>
        <!-- <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
              <li><a href="#">Submit a Review</a></li>
              <li><a href="index.html">Search Courses</a></li>
            </ul>
        </div> -->
      </div>
    </div>

    <div style="padding-top: 100px;" class="container" ng-controller="AppCtrl">
      <div class="form-horizontal">
        <fieldset>
          <legend>Review Course</legend>
          <div class="form-group">
            <label for="inputCode" class="col-lg-2 control-label">Course Code</label>
            <div class="col-lg-10">
              <input type="text" class="form-control" id="inputCode" placeholder="Course Code" ng-model="review.code">
            </div>
          </div>
          <div class="form-group">
            <label for="inputCourse" class="col-lg-2 control-label">Course Name</label>
            <div class="col-lg-10">
              <input type="text" class="form-control" id="inputCourse" placeholder="Course Name" ng-model="review.name">
            </div>
          </div>
          <div class="form-group">
            <label for="inputProfessor" class="col-lg-2 control-label">Course Professor</label>
            <div class="col-lg-10">
              <input type="text" class="form-control" id="inputProfessor" placeholder="Course Professor" ng-model="review.professor">
            </div>
          </div>
          <div class="form-group">
            <label for="inputUser" class="col-lg-2 control-label">Username</label>
            <div class="col-lg-10">
              <input type="text" class="form-control" id="inputUser" placeholder="Username" ng-model="review.username">
            </div>
          </div>
          <!-- <div class="form-group">
            <label for="select" class="col-lg-2 control-label">Rating</label>
            <div class="col-lg-10">
              <select class="form-control" id="select" ng-model="review.rating">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
              </select>
            </div>
          </div> -->

          <div class="form-group">
            <label for="input-21b" class="col-lg-2 control-label">Rating</label>
            <input id="input-21b" value="0" type="number" class="rating" min=0 max=5 data-size="sm" ng-model="review.rating">
          </div>

          <div class="form-group">
            <label for="textArea" class="col-lg-2 control-label">Review</label>
            <div class="col-lg-10">
              <textarea class="form-control" rows="5" id="textReview" ng-model="review.review"></textarea>
              <span class="help-block">Once you click submit you cannot edit nor delete your review. Double check before clicking submit.</span>
            </div>
          </div>
          <div class="form-group text-right">
            <div class="col-lg-10 col-lg-offset-2">
              <!-- <button type="reset" class="btn btn-default">Cancel</button> -->
              <!-- <button class="btn btn-warning" ng-click="submitReview()">Submit</button> -->
              <!-- Button trigger modal -->
              <button type="button" class="btn btn-warning btn-lg" data-toggle="modal" data-target="#myModal">
                Submit
              </button>

              <!-- Modal -->
              <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title text-left" id="myModalLabel">Confirm Submition</h4>
                    </div>
                    <div class="modal-body text-left">
                      Are you sure you want to submit? Remember once you click sumbit you wont be able to edit nor delete your review.
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                      <a href="index.html"><button class="btn btn-warning" data-dismiss="modal" ng-click="submitReview()">Submit</button></a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
      </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.2/angular.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.29/angular.min.js"></script> -->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="controllers/controller.js"></script>


    <script>
        jQuery(document).ready(function () {
            $("#input-21f").rating({
                starCaptions: function(val) {
                    if (val < 3) {
                        return val;
                    } else {
                        return 'high';
                    }
                },
                starCaptionClasses: function(val) {
                    if (val < 3) {
                        return 'label label-danger';
                    } else {
                        return 'label label-success';
                    }
                },
                hoverOnClear: false
            });

            $('#rating-input').rating({
                  min: 0,
                  max: 5,
                  step: 1,
                  size: 'lg',
                  showClear: false
               });

            $('#btn-rating-input').on('click', function() {
                $('#rating-input').rating('refresh', {
                    showClear:true,
                    disabled: !$('#rating-input').attr('disabled')
                });
            });


            $('.btn-danger').on('click', function() {
                $("#kartik").rating('destroy');
            });

            $('.btn-success').on('click', function() {
                $("#kartik").rating('create');
            });

            $('#rating-input').on('rating.change', function() {
                alert($('#rating-input').val());
            });


            $('.rb-rating').rating({'showCaption':true, 'stars':'3', 'min':'0', 'max':'3', 'step':'1', 'size':'xs', 'starCaptions': {0:'status:nix', 1:'status:wackelt', 2:'status:geht', 3:'status:laeuft'}});
        });
    </script>


  </body>
</html>
